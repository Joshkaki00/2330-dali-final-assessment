<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Image Filter Editor - Final Assessment</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<main class="container">
		<header>
			<h1>Image Filter Editor</h1>
			<p>Adjust the sliders below to apply real-time filters to the image</p>
		</header>
		
		<div class="editor-layout">
			<section class="controls-section" aria-label="Image filter controls">
				<h2 class="visually-hidden">Filter Controls</h2>
				<form role="group" aria-labelledby="controls-heading">
					<div class="control-group">
						<label for="hue">
							<span class="label-text">Hue Rotate</span>
							<input 
								id="hue" 
								type="range" 
								min="0" 
								max="360" 
								value="0"
								aria-describedby="hue-desc"
								aria-label="Adjust hue rotation from 0 to 360 degrees"
							/>
							<span class="value-display" id="hue-value" aria-live="polite">0°</span>
						</label>
						<p id="hue-desc" class="control-description">Rotates the colors around the color wheel</p>
					</div>
					
					<div class="control-group">
						<label for="blur">
							<span class="label-text">Blur</span>
							<input 
								id="blur" 
								type="range" 
								min="0" 
								max="40" 
								value="0"
								aria-describedby="blur-desc"
								aria-label="Adjust blur from 0 to 40 pixels"
							/>
							<span class="value-display" id="blur-value" aria-live="polite">0px</span>
						</label>
						<p id="blur-desc" class="control-description">Applies gaussian blur effect</p>
					</div>

					<div class="control-group">
						<label for="contrast">
							<span class="label-text">Contrast</span>
							<input 
								id="contrast" 
								type="range" 
								min="0" 
								max="400" 
								value="50"
								aria-describedby="contrast-desc"
								aria-label="Adjust contrast from 0 to 400 percent"
							/>
							<span class="value-display" id="contrast-value" aria-live="polite">50%</span>
						</label>
						<p id="contrast-desc" class="control-description">Controls the difference between light and dark areas</p>
					</div>

					<div class="control-group">
						<label for="saturation">
							<span class="label-text">Saturation</span>
							<input 
								id="saturation" 
								type="range" 
								min="0" 
								max="200" 
								value="100"
								aria-describedby="saturation-desc"
								aria-label="Adjust saturation from 0 to 200 percent"
							/>
							<span class="value-display" id="saturation-value" aria-live="polite">100%</span>
						</label>
						<p id="saturation-desc" class="control-description">Controls the intensity of colors</p>
					</div>
				</form>
			</section>
			
			<section class="image-section" aria-label="Preview image">
				<h2 class="visually-hidden">Image Preview</h2>
				<div class="image-container">
					<img 
						src="./dali.png" 
						alt="Salvador Dali artwork being edited with filters"
						width="400" 
						height="400"
						role="img"
						aria-describedby="image-desc"
					/>
					<p id="image-desc" class="visually-hidden">
						Preview of the filtered image. The current filters are: 
						<span id="current-filters" aria-live="polite">No filters applied</span>
					</p>
				</div>
			</section>
		</div>
	</main>


	<script>
		const img = document.querySelector('img')
		const currentFiltersSpan = document.getElementById('current-filters')
		let hue = 0
		let blur = 0
		let contrast = 50
		let saturation = 100

		// Function to update value displays and accessibility info
		function updateValueDisplays() {
			document.getElementById('hue-value').textContent = `${hue}°`
			document.getElementById('blur-value').textContent = `${blur}px`
			document.getElementById('contrast-value').textContent = `${contrast}%`
			document.getElementById('saturation-value').textContent = `${saturation}%`
			
			// Update screen reader description
			const filterDescription = `Hue ${hue} degrees, Blur ${blur} pixels, Contrast ${contrast}%, Saturation ${saturation}%`
			currentFiltersSpan.textContent = filterDescription
		}

		// Initialize displays
		updateValueDisplays()

		document.body.addEventListener('input', (e) => {
			switch(e.target.id) {
				case 'hue': 
					hue = parseInt(e.target.value)
					break
				
				case 'blur':
					blur = parseInt(e.target.value)
					break
				
				case 'contrast':
					contrast = parseInt(e.target.value)
					break

				case 'saturation':
					saturation = parseInt(e.target.value)
					break
				default:
					return // Exit if not a filter control
			}

			// Apply filters to image
			img.style.filter = `saturate(${saturation}%) contrast(${contrast}%) hue-rotate(${hue}deg) blur(${blur}px)`
			
			// Update accessibility displays
			updateValueDisplays()
		})

		// Add keyboard navigation support
		document.addEventListener('keydown', (e) => {
			if (e.target.type === 'range') {
				// Announce changes for screen readers
				setTimeout(() => {
					const event = new Event('input', { bubbles: true })
					e.target.dispatchEvent(event)
				}, 100)
			}
		})
	</script>
</body>
</html>